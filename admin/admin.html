<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Smart Bus Admin Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet"
        href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>

  <link rel="stylesheet" href="admin.css">
</head>
<body>

<header class="dashboard-header">
  <div class="header-left">
    <h1 data-i18n="admin"></h1>
  </div>

  <div class="header-right">
    <select class="language-select" onchange="setLanguage(this.value)">
      <option value="en">English</option>
      <option value="fr">FranÃ§ais</option>
      <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
    </select>
  </div>
</header>


<main>

  <!-- KPI SECTION -->
  <section class="kpi-section">
    <div class="kpi-box">
      ğŸšŒ <span data-i18n="fleet"></span>:
      <span id="fleetCount">10</span>
    </div>

    <div class="kpi-box">
      ğŸ‘¥ <span data-i18n="passengers"></span>:
      <span id="passengerCount">0</span>
    </div>

    <div class="kpi-box">
      ğŸ’° <span data-i18n="revenue"></span>:
      <span id="revenue">0 MAD</span>
    </div>

    <div class="kpi-box">
      â± <span data-i18n="punctuality"></span>:
      <span id="punctuality">0%</span>
    </div>
  </section>

  <!-- MAP SECTION -->
<section class="card">
  <h2 data-i18n="liveTracking"></h2>

  <div class="map-layout">

    <!-- VERTICAL LINE BUTTONS -->
    <div id="lineButtons" class="line-buttons-vertical"></div>

    <!-- MAP -->
    <div id="map"></div>

  </div>
</section>

  <!-- FLEET STATUS -->
  <section class="card">
    <h2 data-i18n="fleet"></h2>
    <div id="fleetStatus"></div>
  </section>
  <section class="card">
  <h2>ğŸ“Š System Activity Dashboard</h2>

  <div class="controls">
    <button onclick="filterLogs('ALL')">All</button>
    <button onclick="filterLogs('INCIDENT')">Incidents</button>
    <button onclick="filterLogs('PAYMENT')">Payments</button>
    <button onclick="filterLogs('RECLAMATION')">Reclamations</button>
    <button onclick="clearLogs()">Clear All</button>
  </div>

  <table id="logsTable">
    <thead>
      <tr>
        <th>#</th>
        <th>Type</th>
        <th>Title</th>
        <th>Description</th>
        <th>Actor</th>
        <th>Level</th>
        <th>Date</th>
        <th>Time</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
</section>

  <!-- COMPLAINTS -->
  <section class="card">
    <h2 data-i18n="complaint"></h2>
    <ul id="complaintsList"></ul>
  </section>

  <!-- DRIVER MANAGEMENT -->
  <section class="card">
    <h2 data-i18n="driver"></h2>
    <button onclick="assignDriver()" data-i18n="assignedRoute"></button>
    <button onclick="scheduleMaintenance()" data-i18n="schedule"></button>
  </section>

  <!-- FINANCIAL REPORT -->
  <section class="card">
    <h2 data-i18n="revenue"></h2>
    <button onclick="exportCSV()">CSV</button>
    <button onclick="exportPDF()">PDF</button>
  </section>

  <!-- COMMUNICATION -->
  <section class="card">
    <h2 data-i18n="broadcast"></h2>
    <input 
      type="text" 
      id="broadcastInput" 
      data-i18n-placeholder="broadcast"
    />
    <button onclick="sendBroadcast()" data-i18n="broadcast"></button>
  </section>

</main>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="../assets/data/meknes_all_bus_lines.js"></script>
<script src="admin.js"></script>
<script src="../assets/js/systemCore.js"></script>
<script src="../assets/js/systemLogger.js"></script>
<script src="../assets/js/systemStats.js"></script>
<script src="../assets/js/notification.js"></script>

<script src="../assets/js/translations.js"></script>
<script src="../assets/js/language.js"></script>

<script src="page-specific.js"></script>
</body>
</html>

